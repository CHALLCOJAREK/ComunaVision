/* Login.module.css — PRO + tokens only + fondo “canvas-like” */

.wrap{
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 28px 16px;
  position: relative;
  overflow: hidden;

  /* base */
  background: linear-gradient(180deg, var(--bg0), var(--bg1));
}

/* ===== Fondo tipo “canvas” (sin JS): auroras + grid + particles ===== */

/* Auroras animadas */
.wrap::before{
  content:"";
  position:absolute;
  inset:-30%;
  z-index:0;
  pointer-events:none;
  filter: blur(34px);
  opacity:.70;

  background:
    radial-gradient(1000px 700px at 18% 10%,
      color-mix(in srgb, var(--brand) 18%, transparent),
      transparent 60%),
    radial-gradient(900px 650px at 86% 20%,
      color-mix(in srgb, var(--brand2) 18%, transparent),
      transparent 62%),
    radial-gradient(900px 700px at 55% 95%,
      color-mix(in srgb, var(--brand) 10%, transparent),
      transparent 70%);

  transform: translate3d(0,0,0);
  animation: aurora 12s ease-in-out infinite alternate;
}

/* Grid + scanline + “partículas” */
.wrap::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:0;
  pointer-events:none;
  opacity:.55;

  /* 4 capas: grid fino, grid grueso, scanline suave, speckles */
  background:
    /* grid fino */
    linear-gradient(
      to right,
      color-mix(in srgb, var(--stroke) 45%, transparent) 1px,
      transparent 1px
    ),
    linear-gradient(
      to bottom,
      color-mix(in srgb, var(--stroke) 45%, transparent) 1px,
      transparent 1px
    ),
    /* grid grueso */
    linear-gradient(
      to right,
      color-mix(in srgb, var(--stroke2) 38%, transparent) 1px,
      transparent 1px
    ),
    linear-gradient(
      to bottom,
      color-mix(in srgb, var(--stroke2) 38%, transparent) 1px,
      transparent 1px
    ),
    /* scanline */
    linear-gradient(
      to bottom,
      transparent,
      color-mix(in srgb, var(--text) 7%, transparent),
      transparent
    ),
    /* speckles (ruido controlado) */
    radial-gradient(
      circle at 20% 30%,
      color-mix(in srgb, var(--text) 10%, transparent) 0 1px,
      transparent 2px
    ),
    radial-gradient(
      circle at 70% 60%,
      color-mix(in srgb, var(--text) 9%, transparent) 0 1px,
      transparent 2px
    ),
    radial-gradient(
      circle at 40% 80%,
      color-mix(in srgb, var(--text) 8%, transparent) 0 1px,
      transparent 2px
    );

  /* tamaños del grid */
  background-size:
    24px 24px,
    24px 24px,
    120px 120px,
    120px 120px,
    100% 260px,
    220px 220px,
    260px 260px,
    300px 300px;

  background-position:
    0 0,
    0 0,
    0 0,
    0 0,
    0 0,
    0 0,
    0 0,
    0 0;

  mix-blend-mode: overlay;
  animation: gridDrift 16s linear infinite;
}

/* Noise extra sutil (tu capa existente) */
.noise{
  position:absolute;
  inset:0;
  opacity:.05;
  z-index:0;
  pointer-events:none;
  background-image:
    repeating-linear-gradient(0deg,
      color-mix(in srgb, var(--text) 9%, transparent) 0 1px,
      transparent 1px 2px);
  mix-blend-mode: overlay;
  animation: noise 1.7s steps(2,end) infinite;
}

/* ===== Card ===== */
.card{
  position: relative;
  z-index: 1;
  width: min(500px, 100%);
  border-radius: 26px;
  padding: 24px;
  box-shadow: var(--shadow);
  border: 1px solid color-mix(in srgb, var(--stroke) 80%, transparent);
  backdrop-filter: blur(18px);

  background:
    radial-gradient(900px 520px at 25% 10%,
      color-mix(in srgb, var(--brand) 7%, transparent),
      transparent 60%),
    radial-gradient(900px 520px at 86% 20%,
      color-mix(in srgb, var(--brand2) 7%, transparent),
      transparent 60%),
    color-mix(in srgb, var(--bg1) 84%, transparent);

  transform: translateY(8px);
  animation: cardIn .28s ease-out forwards;
}

/* Borde gradiente PRO (sin hardcode) */
.card::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: 27px;
  padding: 1px;
  pointer-events:none;

  background: linear-gradient(135deg,
    color-mix(in srgb, var(--brand) 55%, transparent),
    color-mix(in srgb, var(--brand2) 55%, transparent)
  );

  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  opacity:.55;
}

.card::after{
  content:"";
  position:absolute;
  inset: 1px;
  border-radius: 25px;
  pointer-events:none;
  background:
    linear-gradient(180deg,
      color-mix(in srgb, var(--text) 6%, transparent),
      transparent 18%,
      transparent 72%,
      color-mix(in srgb, var(--text) 4%, transparent));
  opacity:.6;
}

.head{
  display:flex;
  align-items:center;
  gap: 14px;
  margin-bottom: 18px;
}

.logo{
  width: 52px;
  height: 52px;
  border-radius: 18px;
  position: relative;
  overflow:hidden;
  box-shadow: var(--shadow2);
  background: linear-gradient(135deg, var(--brand), var(--brand2));
}

/* SVG desde TSX via --logo-url */
.logo::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 12px;
  background-image: var(--logo-url);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  filter:
    drop-shadow(0 1px 0 color-mix(in srgb, var(--text) 14%, transparent))
    saturate(1.05);
  opacity: .98;
}

/* halo del logo */
.logo::after{
  content:"";
  position:absolute;
  inset:-18px;
  background: radial-gradient(circle at 35% 35%,
    color-mix(in srgb, var(--brand) 18%, transparent),
    transparent 62%);
  opacity:.7;
  pointer-events:none;
  animation: halo 3.2s ease-in-out infinite;
}

.brand h2{
  margin:0;
  font-size: 18px;
  letter-spacing:.25px;
  color: var(--text);
}

.brand p{
  margin:4px 0 0;
  font-size: 13px;
  color: var(--muted);
}

.body{
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.field{
  display:flex;
  flex-direction:column;
  gap: 8px;
}

.field span{
  font-size: 12px;
  color: var(--faint);
  letter-spacing:.2px;
}

/* ===== Inputs ===== */
.input{
  width: 100%;
  border-radius: 14px;
  padding: 12px 12px;

  background: color-mix(in srgb, var(--bg1) 76%, transparent);
  border: 1px solid var(--stroke2);
  color: var(--text);

  transition:
    border-color var(--t-fast) ease,
    box-shadow var(--t-fast) ease,
    transform var(--t-fast) ease,
    background var(--t-fast) ease;
}

.input::placeholder{ color: var(--faint); }

.input:hover{
  border-color: color-mix(in srgb, var(--stroke2) 70%, var(--text));
  background: color-mix(in srgb, var(--bg1) 80%, transparent);
}

.input:focus-visible{
  outline:none;
  box-shadow: var(--ring);
  border-color: color-mix(in srgb, var(--brand) 38%, var(--stroke2));
  background: color-mix(in srgb, var(--bg1) 82%, transparent);
  transform: translateY(-1px);
}

/* Autofill fix local */
.input:-webkit-autofill,
.input:-webkit-autofill:hover,
.input:-webkit-autofill:focus,
.input:-webkit-autofill:active{
  -webkit-text-fill-color: var(--text) !important;
  caret-color: var(--text);
  transition: background-color 9999s ease-in-out 0s;
  box-shadow: 0 0 0 1000px color-mix(in srgb, var(--bg1) 82%, transparent) inset !important;
  border: 1px solid var(--stroke2) !important;
}

/* ===== Password toggle SOLO icon (sin cuadro) ===== */
.passWrap{
  position: relative;
  display:flex;
  align-items:center;
}

.passWrap .input{
  padding-right: 54px;
}

.passToggle{
  position:absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;

  display:grid;
  place-items:center;

  border: 0;
  background: transparent;
  color: var(--muted);
  cursor:pointer;

  transition:
    transform var(--t-fast) ease,
    color var(--t-fast) ease,
    filter var(--t-fast) ease,
    opacity var(--t-fast) ease;
}

.passToggle:hover{
  color: var(--text);
  filter: drop-shadow(0 0 10px color-mix(in srgb, var(--brand) 25%, transparent));
  transform: translateY(-50%) scale(1.06);
}

.passToggle:active{
  transform: translateY(-50%) scale(.98);
}

.passToggle:focus-visible{
  outline:none;
  filter: drop-shadow(0 0 0 color-mix(in srgb, var(--brand) 0%, transparent));
  box-shadow: var(--ring);
  border-radius: 12px;
}

.icon{
  width: 18px;
  height: 18px;
}

/* ===== Botón Ingresar PRO ===== */
.loginBtn{
  margin-top: 8px;
  border-radius: 14px;
  position: relative;
  overflow:hidden;
  transform: translateZ(0);
}

/* borde gradiente + glow en hover */
.loginBtn::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: 15px;
  padding: 1px;
  pointer-events:none;

  background: linear-gradient(135deg,
    color-mix(in srgb, var(--brand) 70%, transparent),
    color-mix(in srgb, var(--brand2) 70%, transparent)
  );

  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  opacity: 0;
  transition: opacity var(--t-fast) ease;
}

.loginBtn:hover::before{
  opacity: .95;
}

.btnInner{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
}

/* shine diagonal */
.btnSpark{
  position:absolute;
  inset:-40%;
  background: linear-gradient(120deg,
    transparent 35%,
    color-mix(in srgb, var(--text) 14%, transparent),
    transparent 70%);
  transform: translateX(-55%) rotate(18deg);
  opacity: 0;
  transition: opacity var(--t-fast) ease;
  pointer-events:none;
}

.loginBtn:hover .btnSpark{
  opacity:.95;
  animation: btnShine 1.1s ease-in-out;
}

.loginBtn:hover{
  filter: drop-shadow(0 12px 40px color-mix(in srgb, var(--brand) 18%, transparent));
}

.loginBtn:disabled{
  opacity:.55;
  filter: none;
}

/* Spinner */
.spinner{
  display:inline-grid;
  place-items:center;
}

.spinnerSvg{
  width: 18px;
  height: 18px;
  animation: spin .9s linear infinite;
}

/* Error */
.error{
  border: 1px solid color-mix(in srgb, var(--bad) 32%, transparent);
  background: color-mix(in srgb, var(--bad) 12%, transparent);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 13px;
  animation: errorIn .16s ease-out;
}

/* ===== Animations ===== */
@keyframes cardIn{
  from{ opacity:0; transform: translateY(14px); filter: blur(8px); }
  to{ opacity:1; transform: translateY(0); filter: blur(0); }
}

@keyframes errorIn{
  from{ opacity:0; transform: translateY(-5px); }
  to{ opacity:1; transform: translateY(0); }
}

@keyframes btnShine{
  from{ transform: translateX(-55%) rotate(18deg); }
  to{ transform: translateX(55%) rotate(18deg); }
}

@keyframes spin{
  from{ transform: rotate(0deg); }
  to{ transform: rotate(360deg); }
}

@keyframes noise{
  0%{ transform: translate(0,0); }
  100%{ transform: translate(-2px, 2px); }
}

@keyframes halo{
  0%{ opacity:.55; transform: scale(1); }
  100%{ opacity:.8; transform: scale(1.03); }
}

@keyframes aurora{
  0%{ transform: translate(-1.5%, -1%) scale(1); }
  100%{ transform: translate(1.5%, 1%) scale(1.06); }
}

@keyframes gridDrift{
  0%{
    background-position:
      0 0, 0 0,
      0 0, 0 0,
      0 0,
      0 0, 0 0, 0 0;
  }
  100%{
    background-position:
      120px 0, 0 120px,
      240px 0, 0 240px,
      0 260px,
      220px 160px, 260px 210px, 300px 260px;
  }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .wrap::before,
  .wrap::after,
  .noise,
  .card,
  .logo::after,
  .spinnerSvg{
    animation: none !important;
    transition: none !important;
  }
}